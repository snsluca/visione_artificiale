addpath("../1.DLT_Calibration/", "../0.toolkit/thirdparty/", "../0.toolkit/m-files/aux_fun/");

M_single = [ 0,  0, 0;
             0, 18, 0;
             28,18, 0;
             28, 0, 0;
              5, 5, 0;
            10, 10, 0]';

M = [M_single, M_single, M_single, M_single];

m_1 = 1.0e+03 *[

    0.8956    1.9326;
    0.6167    0.5814;
    2.5618    0.2211;
    3.1571    1.2289;
    1.2694    1.3856;
    1.5671    0.9313;
    ]';

m_2 = 1.0e+03 *[

    0.9979    2.0070;
    0.6324    0.8373;
    2.4757    0.1532;
    2.8908    1.4926;
    1.2042    1.5866;
    1.4157    1.1558;
    ]';

m_3 = 1.0e+03 *[

    0.3582    1.4378;
    0.5436    0.1141;
    2.7263    0.6833;
    2.3060    2.0749;
    0.7499    1.1924;
    1.1598    0.9365;
    ]';

m_4 = 1.0e+03 *[

    1.2773    1.9913;
    0.7708    0.8216;
    3.3503    0.2760;
    3.3190    1.6049;
    1.5384    1.6310;
    1.8360    1.2368;
    ]';

m = {m_1 m_2 m_3 m_4};

H = [];
for i = 1:size(m, 2)
    H{i} = resect(m{i}, M(1:2, :) );
end

[P, K] = calibSMZ(H);
